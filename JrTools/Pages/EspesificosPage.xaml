<Page
    x:Class="JrTools.Pages.EspesificosPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:JrTools.Pages"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d" >

    <Page.Resources>
        <!-- Estilo para os cards que se ajustam em grade -->
        <Style x:Key="ResponsiveCardStyle" TargetType="Border">
            <Setter Property="Background" Value="{ThemeResource CardBackgroundFillColorDefaultBrush}"/>
            <Setter Property="BorderBrush" Value="{ThemeResource CardStrokeColorDefaultBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Padding" Value="16"/>
            <Setter Property="Margin" Value="8"/>
            <Setter Property="MinWidth" Value="320"/>
            <Setter Property="MaxWidth" Value="480"/>
        </Style>

        <!-- Novo estilo para o card de terminal, que ocupa a largura total -->
        <Style x:Key="FullWidthCardStyle" TargetType="Border" BasedOn="{StaticResource ResponsiveCardStyle}">
            <Setter Property="MaxWidth" Value="9999"/>
            <!-- Remove a limitação de largura máxima -->
        </Style>
    </Page.Resources>

    <Grid>
        <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="16">
            <StackPanel Spacing="16">
 
                <!-- BOTÃO DE AÇÃO PRINCIPAL -->
                <Button x:Name="ProcessarButton2" 
                        Content="PROCESSAR"
                        HorizontalAlignment="Right" 
                        Style="{ThemeResource AccentButtonStyle}"
                        Click="ProcessarButton_Click"/>
                <!-- CABEÇALHO -->
                <TextBlock Text="Perfil: 'Padrão'" Style="{ThemeResource TitleTextBlockStyle}"/>

                <StackPanel Orientation="Horizontal" Spacing="10" VerticalAlignment="Center">
                    <TextBlock Text="Projeto" VerticalAlignment="Center" Style="{ThemeResource BodyStrongTextBlockStyle}"/>
                    <!-- Os itens deste ComboBox agora são controlados pelo C# -->
                    <ComboBox x:Name="ProjetoComboBox" MinWidth="200"/>
                </StackPanel>

                <!-- Barra para exibir mensagens de erro/validação -->
                <InfoBar x:Name="ValidationInfoBar" IsOpen="False" Severity="Error" Margin="0,0,8,0"/>

                <!-- Container para os cards responsivos (exceto o terminal) -->
                <ItemsControl>
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <ItemsWrapGrid Orientation="Horizontal"/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>

                    <!-- CARD 1: Opções de Compilação -->
                    <Border Style="{StaticResource ResponsiveCardStyle}">
                        <StackPanel Spacing="12">
                            <TextBlock Text="Opções de Compilação" Style="{ThemeResource SubtitleTextBlockStyle}"/>
                            <ToggleSwitch x:Name="BaixarBinarioToggle" Header="Baixar binário atualizado"/>
                            <ToggleSwitch x:Name="CriarAtalhoToggle" Header="Criar atalho para pasta de compilação" IsOn="True"/>
                            <ToggleSwitch x:Name="CompilarEspecificosToggle" Header="Compilar Específicos"/>
                            <ToggleSwitch x:Name="CriarAplicacaoIISToggle" Header="Criar aplicação IIS" IsOn="True"/>
                            <ToggleSwitch x:Name="RestaurarWebAppToggle" Header="Restaurar pasta do WebApp"/>
                        </StackPanel>
                    </Border>

                    <!-- CARD 2: Configuração da Aplicação Web -->
                    <Border Style="{StaticResource ResponsiveCardStyle}">
                        <StackPanel Spacing="12">
                            <TextBlock Text="Configuração da Aplicação Web" Style="{ThemeResource SubtitleTextBlockStyle}"/>
                            <TextBox x:Name="EnderecoServidorTextBox" Header="Endereço do Benner Server" Text="BNU-RHVAPI001" />
                            <TextBox x:Name="UsuarioInternoTextBox" Header="Nome de usuário interno" Text="sysdba" />
                            <PasswordBox x:Name="SenhaInternoPasswordBox" Header="Senha do usuário interno" Password="******" />
                            <Button Content="Abrir aplicativo no navegador" HorizontalAlignment="Left" Margin="0,10,0,0"/>
                        </StackPanel>
                    </Border>

                    <!-- CARD 3: Outras Informações -->
                    <Border Style="{StaticResource ResponsiveCardStyle}">
                        <StackPanel Spacing="12">
                            <TextBlock Text="Outras Informações" Style="{ThemeResource SubtitleTextBlockStyle}"/>
                            <Grid ColumnDefinitions="*,*" ColumnSpacing="16" RowSpacing="8">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <TextBox x:Name="SiteTextBox" Grid.Row="0" Grid.Column="0" Header="Site" Text="Default Web Site"/>
                                <TextBox x:Name="NomeAplicacaoTextBox" Grid.Row="0" Grid.Column="1" Header="Nome da aplicação" Text="ESPRH_CAJ_DESENV"/>
                                <TextBox x:Name="PoolTextBox" Grid.Row="1" Grid.Column="0" Header="Pool" Text="RHPool"/>
                                <TextBox x:Name="NumeroProvedoresTextBox" Grid.Row="1" Grid.Column="1" Header="Nº de Provedores" Text="2"/>
                                <TextBox x:Name="NomeSistemaBennerTextBox" Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" Header="Nome do sistema no Benner Server" Text="ESPRH_CAJ_DESENV"/>
                            </Grid>
                        </StackPanel>
                    </Border>
                </ItemsControl>

                <!-- CARD 4: Terminal de Processamento (Agora fora do ItemsControl e com estilo próprio) -->
                <Border Style="{StaticResource FullWidthCardStyle}">
                    <StackPanel Spacing="12">
                        <TextBlock Text="Terminal de Processamento" Style="{ThemeResource SubtitleTextBlockStyle}"/>
                        <Border Background="{ThemeResource TextControlBackgroundFocused}" MinHeight="150" CornerRadius="4" Padding="12">
                            <TextBlock Text="Aguardando execução..." 
                                       FontFamily="Consolas" 
                                       TextWrapping="Wrap"
                                       VerticalAlignment="Top"/>
                        </Border>
                    </StackPanel>
                </Border>

                <!-- BOTÃO DE AÇÃO PRINCIPAL -->
                <Button x:Name="ProcessarButton" 
                        Content="PROCESSAR"
                        HorizontalAlignment="Right"
                        Margin="0,12,8,0"
                        Style="{ThemeResource AccentButtonStyle}"
                        Click="ProcessarButton_Click"/>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Page>

